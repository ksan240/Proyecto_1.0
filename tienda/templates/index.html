{% extends 'base.html' %}
{% load static %}
{% block content %}
<nav class="navbar navbar-expand-lg bg-white border-bottom">
    <div class="container">
      <ul class="navbar-nav mx-auto">
        <li class="nav-item"><a class="nav-link" href="{% url 'coches_por_marca' 'Ferrari' %}">Ferrari</a></li>
        <li class="nav-item"><a class="nav-link" href="{% url 'coches_por_marca' 'Pagani' %}">Pagani</a></li>
        <li class="nav-item"><a class="nav-link" href="{% url 'coches_por_marca' 'Lamborghini' %}">Lamborghini</a></li>
        <li class="nav-item"><a class="nav-link" href="{% url 'coches_por_marca' 'McLaren' %}">McLaren</a></li>
        <li class="nav-item"><a class="nav-link" href="{% url 'coches_por_marca' 'BMW' %}">BMW</a></li>
      </ul>
    </div>
</nav>                
{% if not query %}
  <h1 class="mb-4">Bienvenido a la Tienda de Coches de Lujo</h1>
  <p>Descubre marcas como Bugatti, Pagani, Ferrari, Lamborghini, McLaren y BMW.</p>
{% endif %}

{% if query %}
  <h5>Resultados para "{{ query }}":</h5>
{% endif %}

{% if coches %}
  <div class="row">
    {% for coche in coches %}
      <div class="col-md-4 mb-4">
        <div class="card h-100">
          <a href="{% url 'detalles_coche' coche.marca coche.id %}" class="text-decoration-none text-dark" style="text-decoration: none;">
            {% if coche.imagen %}
              <img src="{{ coche.imagen.url }}" class="card-img-top" alt="{{ coche.modelo }}">
            {% else %}
              <img src="{% static 'placeholder.jpg' %}" class="card-img-top" alt="Sin imagen">
            {% endif %}
            <div class="card-body">
              <h5 class="card-title">{{ coche.marca }} {{ coche.modelo }}</h5>
              <p class="card-text"><strong>Precio:</strong> ${{ coche.precio }}</p>
              <p class="card-text"><strong>Año:</strong> {{ coche.año }}</p>
              <p class="card-text"><strong>País:</strong> {{ coche.pais }}</p>
            </div>
          </a>
        </div>
      </div>
    {% endfor %}
  </div>
{% elif query %}
  <p>No se encontraron coches.</p>
{% endif %}
{% endblock %}